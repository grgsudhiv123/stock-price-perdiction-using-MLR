{% extends 'base.html' %}

{% block content %}

    <!-- Form Container -->
    <div class="form-container">
        <h2>Enter Values</h2>
        <form method="POST">
            {% csrf_token %}

            <!-- Company Selection -->
            <label for="company">Select Company:</label>
            <select id="company" name="company" required>
                <option value="" disabled selected>Select a company</option>
                {% for company in companies %}
                    <option value="{{ company }}">{{ company }}</option>
                {% endfor %}
            </select>

            <label for="open">Open:</label>
            <input type="number" id="open" name="open" step="any" required>
            
            <label for="high">High:</label>
            <input type="number" id="high" name="high" step="any" required>
            
            <label for="low">Low:</label>
            <input type="number" id="low" name="low" step="any" required>
            
            <label for="vol">Vol:</label>
            <input type="number" id="vol" name="Vol" step="any" required>
            
            <button type="submit">Submit</button>
        </form>
    </div>

    <!-- Result Container -->
    {% if data.result %}
    <div id="result-container">
        <h3>Submitted Values</h3>
        <table class="result-table">
            <thead>
                <tr>
                    <th><strong>Company</strong></th>
                    <th><strong>Open</strong></th>
                    <th><strong>High</strong></th>
                    <th><strong>Low</strong></th>
                    <th><strong>Vol</strong></th>
                    <th><strong>Close</strong></th>
                    <th><strong>% Change</strong></th>
                    <th><strong>Difference</strong></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>{{ data.company }}</td>
                    <td>{{ data.open }}</td>
                    <td>{{ data.high }}</td>
                    <td>{{ data.low }}</td>
                    <td>{{ data.vol }}</td>
                    <td>{{ data.result }}</td>
                    <td>{{ data.percentage_change }}</td>
                    <td>{{ data.difference }}</td>
                </tr>
            </tbody>
        </table>
    </div>
    {% endif %}

{% endblock %}
