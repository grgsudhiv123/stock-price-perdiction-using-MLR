<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Tracker</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>
    <nav class="navbar">
        <div class="navbar-container">
            <div class="brand-container">
                <svg class="logo" width="24" height="24" viewBox="0 0 24 24">
                    <path 
                    d="M3 12L8 7L13 15L21 5" 
                    stroke="#28a745" 
                    stroke-width="2.5" 
                    fill="none" 
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    />
                    <circle cx="3" cy="12" r="1.5" fill="#28a745"/>
                    <circle cx="8" cy="7" r="1.5" fill="#28a745"/>
                    <circle cx="13" cy="15" r="1.5" fill="#28a745"/>
                    <circle cx="21" cy="5" r="1.5" fill="#28a745"/>
                </svg>
                <a href="#" class="navbar-brand">Stock Price Prediction</a>
            </div>
            <div class="dropdown">
                <button onclick="toggleDropdown()" class="dropdown-button">â˜°</button>
                <div id="dropdownMenu" class="dropdown-content">
                    <a href="#" class="active">Dashboard</a>
                    <a href="#">Analytics</a>
                    <a href="#">History</a>
                    <a href="#">Settings</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Form Container -->
    <div class="form-container">
        <h2>Enter Values</h2>
        <form method="POST">
            {% csrf_token %}
            <label for="open">Open:</label>
            <input type="number" id="open" name="open" required>
            
            <label for="high">High:</label>
            <input type="number" id="high" name="high" required>
            
            <label for="low">Low:</label>
            <input type="number" id="low" name="low" required>
            
            <label for="Vol">Vol:</label>
            <input type="number" id="vol" name="Vol" required>
            
            <button type="submit">Submit</button>
        </form>
    </div>
    
    <!-- Result Container -->
    {% if data.result %}
    <div id="result-container">
        <h3>Submitted Values</h3>
        <p>
            <strong>Open:</strong> {{ data.open }} <br>
            <strong>High:</strong> {{ data.high }} <br>
            <strong>Low:</strong> {{ data.low }} <br>
            <strong>Vol:</strong> {{ data.vol }} <br>
            <strong>Close:</strong> {{ data.result }} <br>
        </p>
    </div>
    {% endif %}
    
    <!-- Stock Log Container -->
    <div id="stock-log-container">
        <h3>Stock Log</h3>
        <div class="stock-log">
            {% for data in stocklog %}
            <p>
                <strong>Open:</strong> {{ data.open_price }} <br>
                <strong>High:</strong> {{ data.high_price }} <br>
                <strong>Low:</strong> {{ data.low_price }} <br>
                <strong>Vol:</strong> {{ data.volume }} <br>
                <strong>Close:</strong> {{ data.result }} <br>
            </p>
            {% endfor %}
        </div>
    </div>

    <!-- Dropdown Menu Script -->
    <script>
        function toggleDropdown() {
            document.getElementById("dropdownMenu").classList.toggle("show");
        }

        // Close the dropdown if the user clicks outside of it
        window.onclick = function(event) {
            if (!event.target.matches('.dropdown-button')) {
                var dropdowns = document.getElementsByClassName("dropdown-content");
                for (var i = 0; i < dropdowns.length; i++) {
                    var openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
            }
        }
    </script>
</body>
</html>